(this["webpackJsonpreact-compare-products"]=this["webpackJsonpreact-compare-products"]||[]).push([[0],{12:function(e,a,t){e.exports=t(27)},26:function(e,a,t){},27:function(e,a,t){"use strict";t.r(a);var r=t(0),c=t.n(r),n=t(9),o=t.n(n),m=(t(17),t(10)),l=t(11),p=t(3),s=t(2),i=t.n(s);t(21);i.a.initializeApp({apiKey:"AIzaSyBBmE1GxqFMEn0uDEMye9-uBdwE4t31X4g",authDomain:"react-compare-products.firebaseapp.com",databaseURL:"https://react-compare-products.firebaseio.com",projectId:"react-compare-products",storageBucket:"react-compare-products.appspot.com",messagingSenderId:"388380689401",appId:"1:388380689401:web:d27939ab4b47381fa03328",measurementId:"G-E0SR2DCMZB"});var u=i.a.firestore(),d=c.a.createContext(),_=function(e){var a=e.children,t=Object(r.useState)([]),n=Object(p.a)(t,2),o=n[0],s=n[1],i=u.collection("products"),_=function(e){return Object(l.a)({id:e.id},e.data())};Object(r.useEffect)((function(){var e=i.onSnapshot((function(e){var a=e.docs.map(_);s(a)}));return function(){return e}}),[]);var E=Object(r.useState)([]),f=Object(p.a)(E,2),v=f[0],h=f[1],b={toCompare:v,addToCompare:function(e){v.length<4&&h([].concat(Object(m.a)(v),[e]))},removeFromCompare:function(e){var a=v.filter((function(a){return a.id!==e}));h(a)},data:o};return c.a.createElement(d.Provider,{value:b},a)},E=(t(26),function(e){var a=e.product,t=a.id,r=a.name,n=a.img,o=a.description,m=a.price;return c.a.createElement(d.Consumer,null,(function(e){var l=e.toCompare,p=e.addToCompare,s=e.removeFromCompare,i=l.filter((function(e){return e.id===t})),u=0!==i.length&&"product__thumb--compare-remove",d=c.a.createElement("button",{"data-testid":"remove-btn",onClick:function(){return s(t)},className:"product__compare-btn product__compare-btn--remove",type:"button"},"Usu\u0144"),_=c.a.createElement("button",{"data-testid":"compare-btn",onClick:function(){return p(a)},className:"product__compare-btn",type:"button"},"Pr\xf3wnaj");return c.a.createElement("div",{"data-testid":"product",className:"col-sm-6 col-lg-4 col-xl-3"},c.a.createElement("div",{className:"product"},c.a.createElement("div",{className:"product__thumb ".concat(u)},c.a.createElement("img",{src:"/compare-products-react"+n,alt:r,className:"product__img"}),0!==i.length?d:_),c.a.createElement("div",{className:"product__text"},c.a.createElement("h3",{className:"product__title"},r),c.a.createElement("p",{className:"product__short-description"},o),c.a.createElement("span",{className:"product__price"},m," z\u0142"))))}))}),f=function(){return c.a.createElement(d.Consumer,null,(function(e){var a=e.data.map((function(e){return c.a.createElement(E,{key:e.id,product:e})}));return c.a.createElement("div",{"data-testid":"productsList",className:"products row mt-5 mb-5"},a)}))},v=function(e){var a=e.product,t=a.name,r=a.img,n=a.price,o=a.colors,m=a.fresh,l=o.map((function(e){return c.a.createElement("div",{key:e,className:"compare__single-color",style:{backgroundColor:e}})})),p=m?"compare__param compare__param-condition compare__param-condition--fresh":"compare__param compare__param-condition compare__param-condition--frozen",s=m?"\u015awierze":"Mro\u017cone";return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"compare__row"},c.a.createElement("li",{className:"compare__param compare__param--name"},c.a.createElement("img",{src:"/compare-products-react"+r,alt:"",className:"compare__img"}),c.a.createElement("span",{className:"compare__text"},t)),c.a.createElement("li",{className:"compare__param compare__param--price"},n," z\u0142"),c.a.createElement("li",{className:"compare__param compare__param--color"},l),c.a.createElement("li",{className:p},s)))},h=function(){return c.a.createElement(d.Consumer,null,(function(e){var a=e.toCompare;if(a.length>=2){var t=a.map((function(e){return c.a.createElement(v,{key:e.id,product:e})}));return c.a.createElement("div",{className:"compare","data-testid":"compare",style:{transform:"translate(-50%, calc(100% - ".concat(74*(a.length+1),"px)")}},c.a.createElement("ul",{className:"compare__row"},c.a.createElement("li",{className:"compare__param compare__param--head"},"Produkt"),c.a.createElement("li",{className:"compare__param compare__param--head"},"Cena"),c.a.createElement("li",{className:"compare__param compare__param--head"},"Kolory"),c.a.createElement("li",{className:"compare__param compare__param--head"},"Stan")),t)}return null}))},b=function(){return c.a.createElement(_,null,c.a.createElement("div",{className:"product-list-page container mt-5"},c.a.createElement("h1",null,"React comapre products"),c.a.createElement(f,null),c.a.createElement(h,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.70d63e92.chunk.js.map