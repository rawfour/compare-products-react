(this["webpackJsonpreact-compare-products"]=this["webpackJsonpreact-compare-products"]||[]).push([[0],{22:function(e,a,t){e.exports=t(41)},36:function(e,a,t){},41:function(e,a,t){"use strict";t.r(a);var r=t(0),c=t.n(r),n=t(15),o=t.n(n),m=(t(27),t(6)),l=t(17),p=t(3),s=t(8),i=t.n(s);t(31);i.a.initializeApp({apiKey:"AIzaSyBBmE1GxqFMEn0uDEMye9-uBdwE4t31X4g",authDomain:"react-compare-products.firebaseapp.com",databaseURL:"https://react-compare-products.firebaseio.com",projectId:"react-compare-products",storageBucket:"react-compare-products.appspot.com",messagingSenderId:"388380689401",appId:"1:388380689401:web:d27939ab4b47381fa03328",measurementId:"G-E0SR2DCMZB"});var u=i.a.firestore(),d=c.a.createContext(),_=function(e){var a=e.children,t=Object(r.useState)([]),n=Object(p.a)(t,2),o=n[0],s=n[1],i=u.collection("products"),_=function(e){return Object(l.a)({id:e.id},e.data())};Object(r.useEffect)((function(){var e=i.onSnapshot((function(e){var a=e.docs.map(_);s(a)}));return function(){return e}}),[]);var E=Object(r.useState)([]),f=Object(p.a)(E,2),v=f[0],b=f[1],h={toCompare:v,addToCompare:function(e){v.length<4&&b([].concat(Object(m.a)(v),[e]))},removeFromCompare:function(e){var a=v.filter((function(a){return a.id!==e}));b(a)},data:o};return c.a.createElement(d.Provider,{value:h},a)},E=(t(36),t(53)),f=function(e){var a=e.product,t=Object(r.useState)(!1),n=Object(p.a)(t,2),o=n[0],m=n[1],l=a.id,s=a.name,i=a.img,u=a.description,_=a.price,f=function(){m(!0)};return c.a.createElement(d.Consumer,null,(function(e){var t=e.toCompare,r=e.addToCompare,n=e.removeFromCompare,m=t.filter((function(e){return e.id===l})),p=0!==m.length?"product__thumb--compare-remove":"",d=o?"":"product--loading",v=c.a.createElement("button",{"data-testid":"remove-btn",onClick:function(){return n(l)},className:"product__compare-btn product__compare-btn--remove",type:"button"},"Usu\u0144"),b=c.a.createElement("button",{"data-testid":"compare-btn",onClick:function(){return r(a)},className:"product__compare-btn",type:"button"},"Pr\xf3wnaj");return c.a.createElement("div",{"data-testid":"product",className:"col-sm-6 col-lg-4 col-xl-3"},c.a.createElement("div",{className:"product ".concat(d)},c.a.createElement("div",{className:"product__thumb ".concat(p," ").concat(d)},c.a.createElement("img",{src:i,alt:s,onLoad:f,className:"product__img"}),o?c.a.createElement(c.a.Fragment,null,0!==m.length?v:b):c.a.createElement(E.a,null)),c.a.createElement("div",{className:"product__text"},c.a.createElement("h3",{className:"product__title"},s),c.a.createElement("p",{className:"product__short-description"},u),c.a.createElement("span",{className:"product__price"},_," z\u0142"))))}))},v=function(){return c.a.createElement(d.Consumer,null,(function(e){var a=e.data.map((function(e){return c.a.createElement(f,{key:e.id,product:e})}));return c.a.createElement("div",{"data-testid":"productsList",className:"products row mt-5 mb-5"},a)}))},b=function(e){var a=e.product,t=a.name,r=a.img,n=a.price,o=a.colors,m=a.fresh,l=o.map((function(e){return c.a.createElement("div",{key:e,className:"compare__single-color",style:{backgroundColor:e}})})),p=m?"compare__param compare__param-condition compare__param-condition--fresh":"compare__param compare__param-condition compare__param-condition--frozen",s=m?"\u015awierze":"Mro\u017cone";return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"compare__row"},c.a.createElement("li",{className:"compare__param compare__param--name"},c.a.createElement("img",{src:r,alt:"",className:"compare__img"}),c.a.createElement("span",{className:"compare__text"},t)),c.a.createElement("li",{className:"compare__param compare__param--price"},n," z\u0142"),c.a.createElement("li",{className:"compare__param compare__param--color"},l),c.a.createElement("li",{className:p},s)))},h=function(){return c.a.createElement(d.Consumer,null,(function(e){var a=e.toCompare;if(a.length>=2){var t=a.map((function(e){return c.a.createElement(b,{key:e.id,product:e})}));return c.a.createElement("div",{className:"compare","data-testid":"compare",style:{transform:"translate(-50%, calc(100% - ".concat(74*(a.length+1),"px)")}},c.a.createElement("ul",{className:"compare__row"},c.a.createElement("li",{className:"compare__param compare__param--head"},"Produkt"),c.a.createElement("li",{className:"compare__param compare__param--head"},"Cena"),c.a.createElement("li",{className:"compare__param compare__param--head"},"Kolory"),c.a.createElement("li",{className:"compare__param compare__param--head"},"Stan")),t)}return null}))},g=function(){return c.a.createElement(_,null,c.a.createElement("div",{className:"product-list-page container mt-5"},c.a.createElement("h1",null,"React comapre products"),c.a.createElement(v,null),c.a.createElement(h,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.d0faf21b.chunk.js.map